# 实验结论总结

**生成时间**：2025-12-14  
**实验范围**：Day1-Day9

---

## 核心结论

### 数据准备
1. 成功构建完整数据集（train: 39,583, dev: 4,948, test: 4,948）(Day1)
2. Baseline 模型性能优秀：测试集 F1 = 89.13% (Day3)

### 不确定性建模
3. 不确定性 u 与错误率强相关：相关系数 0.8379 (Day4)
4. 79% 样本在低不确定性区间（错误率 8.56%），21% 样本在高不确定性区间（错误率 33-46%）(Day4)

### EMG 机制
5. 成功实现不确定性驱动的 α(u) 函数，符合"越不确定越依赖知识"的理论预期 (Day7/Day8)
6. 在低不确定性区间（u < 0.1），最优 α* = 0.75（信任模型）(Day7)
7. 在高不确定性区间（u > 0.3），最优 α* = 0.00（完全依赖知识）(Day7)

### q₀ 知识后验
8. q₀ 平均敏感概率 0.82 过高，导致初始融合效果不佳 (Day6/Day9)
9. 通过参数调整（max_sensitive_prob: 0.95→0.75, min_matches: 1→2）显著改善了概率质量指标 (Day9)

### EMG 效果
10. **NLL 显著改善**：改进后 EMG 的 NLL = 0.3892，比 Baseline 降低 2.72% (Day9)
11. **ECE 显著改善**：改进后 EMG 的 ECE = 0.0648，比 Baseline 降低 11.16% (Day9)
12. **F1 略有下降**：改进后 EMG 的 F1 = 88.13%，比 Baseline 下降 1.11% (Day9)

---

## EMG 无提升原因分析

### 主要原因
1. **q₀ 质量问题**（主要原因）
   - 初始 q₀ 平均敏感概率 0.82 过高
   - 可能 Precision < 0.70，引入大量噪声
   - 即使权重只有 25%，也会显著影响性能

2. **Baseline 性能已经很高**
   - F1: 89.13% 已经很高
   - 79% 样本在低不确定性区间，baseline 已经很准确

3. **门控模型过于简单**
   - 只考虑不确定性 u，忽略 p 和 q₀ 的置信度差异
   - 线性融合可能不够灵活

### 改进措施
1. **降低 max_sensitive_prob**：从 0.95 降到 0.75
2. **提高 min_matches_for_sensitive**：从 1 提高到 2
3. **降低类别权重**：politics_weight 0.8→0.6, abuse_weight 0.6→0.5
4. **降低缩放因子**：tanh 缩放因子从 10 降到 5

### 改进效果
- ✅ **NLL**：从增加 5.70% → 降低 2.72%（改善 8.42 个百分点）
- ✅ **ECE**：从增加 39.84% → 降低 11.16%（改善 51 个百分点）
- ⚠️ **F1**：从下降 0.86% → 下降 1.11%（略有恶化）

---

## 最终结论

### 成功验证的目标
1. ✅ **概率质量改善**：EMG 在 NLL 和 ECE 指标上显著优于 Baseline
2. ✅ **风险控制**：NLL 降低说明融合引入的期望风险降低
3. ✅ **校准改进**：ECE 降低说明预测概率与实际准确率更一致
4. ✅ **理论验证**：不确定性驱动的门控机制按预期工作

### 未完全达到的目标
1. ⚠️ **F1 提升**：EMG 的 F1 仍低于 Baseline（下降 1.11%）
2. ⚠️ **高不确定性切片分析**：尚未单独验证在高不确定性切片中的表现

### 结论
**EMG 机制在概率质量方面达到了预期目标**，符合开题报告中"风险控制与校准改进"的要求。虽然分类准确率（F1）略有下降，但在强调概率质量的场景中（如风险控制、校准要求高的应用），这种改善是有价值的。

**后续优化方向**：
1. 进一步优化 q₀ 质量（词表清洗、更精细的概率计算）
2. 验证高不确定性切片的表现
3. 考虑更复杂的门控模型（考虑 p 和 q₀ 的置信度差异）

